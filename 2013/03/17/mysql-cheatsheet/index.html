<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ace Atienza&#039;s Web Development blog">
    <meta name="keywords" content="mysql, sql, database">    <title>MySQL Cheatsheet</title>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/styles.css" type="text/css">
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Google Search -->
    <script>
      (function() {
        var cx = '000861553144757390361:ilf0n_kvp6c';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
            '//www.google.com/cse/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
</head>
<body>
  
  <nav class="navbar navbar-default navbar-static-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Ace Atienza</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="active"><a href="/">Blog</a></li>
        <li ><a href="/projects">Projects</a></li>
        <li ><a href="/about">About</a></li>
      </ul>
      <form class="navbar-form navbar-right" action="/search_results" method="GET">
        <div class="form-group">
          <input class="form-control" name="q" placeholder="Search...">
        </div>
      </form>      
    </div>
  </div>
</nav>
	<div class="container">
		<div class="row">
			<div class="col-sm-8 center-block">
        <article>
          <header>
            <p><span class="post-date">Mar 3, 2013</span></p>
            <h3><a href="">MySQL Cheatsheet</a></h3>
        	</header>
          <p>MySQL cheatsheet from <a href="http://dev.mysql.com/doc/refman/5.6/en/index.html">MySQL Reference Manual</a>, <a href="http://en.wikibooks.org/wiki/MySQL/CheatSheet">this wiki</a>, <a href="http://www.amazon.com/Databases-Illuminated-Second-Catherine-Ricardo/dp/1449606008">Databases Illuminated book</a>, and my own notes. </p>

<h3>Query</h3>

<pre><code>SELECT * FROM table  
SELECT * FROM table1, table2, ...  
SELECT field1, field2, ... FROM table1, table2, ...  
SELECT ... FROM ... WHERE condition  
SELECT ... FROM ... WHERE condition GROUP BY field  
SELECT ... FROM ... WHERE condition GROUP BY field HAVING condition2  
SELECT ... FROM ... WHERE condition ORDER BY field1, field2  
SELECT ... FROM ... WHERE condition ORDER BY field1, field2 DESC  
SELECT ... FROM ... WHERE condition LIMIT 10  
SELECT DISTINCT field1 FROM ...  
SELECT DISTINCT field1, field2 FROM ...  
SELECT ... FROM t1 JOIN t2 ON t1.id1 = t2.id2 WHERE condition  
SELECT ... FROM t1 LEFT JOIN t2 ON t1.id1 = t2.id2 WHERE condition  
SELECT ... FROM t1 JOIN (t2 JOIN t3 ON ...) ON ...  
SELECT ... FROM t1 JOIN t2 USING(id) WHERE condition  
</code></pre>

<h3>UPDATE, INSERT, DELETE</h3>

<pre><code>UPDATE table1 SET field1=new_value1 WHERE condition  
UPDATE table1, table2 SET field1=new_value1, field2=new_value2, ...  
INSERT INTO table1 (field1, field2, ...) VALUES (value1, value2, ...)    
INSERT table1 SET field1=value_1, field2=value_2 ...  
DELETE FROM table1 / TRUNCATE table1  
DELETE FROM table1 WHERE condition -- join:  
DELETE FROM table1, table2 WHERE table1.id1 = table2.id2 AND condition WHERE table1.id1 = table2.id2 AND condition  
</code></pre>

<h3>Getting around</h3>

<pre><code>SHOW [databases, tables]  
SHOW FIELDS FROM table
SHOW COLUMNS FROM table  
DESCRIBE table  
SHOW CREATE TABLE table  
SHOW CREATE TRIGGER trigger  
SHOW TRIGGERS LIKE '%update%'  
</code></pre>

<h3>CREATE, ALTER, DROP database</h3>

<pre><code>CREATE DATABASE [IF NOT EXIST] database_name  
DROP DATABASE database_name  
USE database_name  
</code></pre>

<h3>CREATE, ALTER, DROP table</h3>

<pre><code>CREATE TABLE table (field1 type1, field2 type2, ...)  
CREATE TABLE table (field1 type1, field2 type2, ..., INDEX (field))  
CREATE TABLE table (field1 type1, field2 type2, ..., PRIMARY KEY (field1))  
CREATE TABLE table (field1 type1, field2 type2, ..., PRIMARY KEY (field1, field2))  
CREATE TABLE table1 (fk_field1 type1, fk_field2 type2, ...,
  FOREIGN KEY (fk_field1, fk_field2) REFERENCES table2 (t2_fieldA, t2_fieldB))  
CREATE TABLE table IF NOT EXISTS (...)  
CREATE TABLE new_tbl_name LIKE tbl_name  
CREATE TEMPORARY TABLE table (...)  
DROP TABLE table  
DROP TABLE table1, table2  
ALTER TABLE table MODIFY field1 type1  
ALTER TABLE table MODIFY field1 type1 NOT NULL  
ALTER TABLE table ADD INDEX (field);  
ALTER TABLE table ADD PRIMARY KEY (field);  
</code></pre>

<h3>Keys</h3>

<pre><code>CREATE TABLE table (..., PRIMARY KEY (field1, field2))  
CREATE TABLE table (..., FOREIGN KEY (field1, field2) REFERENCES table2 (t2_field1, t2_field2))  
ALTER TABLE table ADD PRIMARY KEY (field);  
</code></pre>

<h3>Load data from local file <a href="http://dev.mysql.com/doc/refman/5.0/en/loading-tables.html">reference</a></h3>

<pre><code>mysql -u user -p --local-infile database  // must log in with '--local-infile'  

mysql&gt; LOAD DATA LOCAL INFILE '/full_path/file.txt' INTO TABLE tablename;
</code></pre>

        </article>

                <p class="tags">
          Tags:
                    <a href="/blog/tags/mysql">mysql</a>,                     <a href="/blog/tags/sql">sql</a>,                     <a href="/blog/tags/database">database</a>                    </p>
      
          <nav class="article">
                                  </nav>
			</div>
   </div>
  </div>

<footer>
	<div class="container">
					</div>
    <a href="/status" class="status hide-on-mobile">Blog Status</a>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>



</body>
</html>